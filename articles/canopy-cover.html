<article>
			<h1>Canopy Cover Project Costa Rica</h1>
			<span class="byline">2016-5-10</span>
			<p>This post serves to summarize a project I did for my ESE 389: ENVIRONMENTAL &amp; SUSTAINABLE FIELD EXPEDITION - COSTA RICA class. The class is described on the <a href="https://www.earth.illinois.edu/cms/one.aspx?portalId=4186&pageId=107405">website</a> as an "8 day trip to Costa Rica over Spring Break with weekly seminars on campus during the regular semester. The course will examine environment and sustainability issues in Costa Rica. Coverage includes: rainforest ecology, land-use issues, sustainable agriculture, developing economies, and geologic features of the landscape (e.g., volcanoes; rivers)." The class culminated in a major project whose requirements necessitated that the project be related to sustainability and Costa Rica. I chose to do an assessment on the canopy cover for the different forests we visited in Costa Rica.</p>

			<p><img src="https://github.com/edisondotme/canopy-cover/raw/master/plots/map.png" alt="Costa Rica Forests" title="Costa Rica Forests" width="500px"></p>

			<h1>Background</h1>

			<p>I had recently learned about a technique in my GEOG 479: Programming for GIS class where one can estimate the <a href="https://en.wikipedia.org/wiki/Leaf_area_index?oldformat=true">leaf area index (LAI)</a> of a forest using images taken from the ground pointing straight up to the sky. The technique uses a camera with a very wide angle <a href="https://en.wikipedia.org/wiki/Hemispherical_photography?oldformat=true">hemispherical</a> (fish-eye) lens whose field of view extends from horizon to opposite horizon, then processing that image to determine which parts are sky, and which parts are leaf to determine the LAI. I thought the technique was clever so I decided that I wanted to try it out myself for my project. There exists scientifically rigorous software that already exists for this technique such as <a href="http://www.delta-t.co.uk/product/hemiview/">hemiview</a>, but for the sake of scientific exploration and learning, I wanted to whip up a version of my own using one of my most beloved languages, R.</p>

			<h1 id="process">Process</h1>

			<p>Canopy cover assessment with hemispherical photography begins using a binarization algorithm, which just just analyzes the images and categorizes pixels as leaf or non-leaf. I had also recently conducted a workshop as part of the student organization I ran (<a href="http://ugisgroup.org">ugisgroup.org</a>) teaching <a href="https://en.wikipedia.org/wiki/K-means_clustering?oldformat=true">k-means clustering</a> of spatial points. I applied that workshop to the pixels in the hemispherical image to categorize the pixels into two groups: leaf and sky.</p>

			<p>This is a snippet of the relevant code in R:</p>

			<pre><code class="R language-R"> km &lt;- kmeans(as.vector(image), centers = 2)
			</code></pre>

			<p>The result is something that looks like this:</p>

			<p><img src="https://github.com/edisondotme/canopy-cover/raw/master/plots/clustered_image.png" alt="Costa Rica Forests" title="k-means clustered forest image" /></p>

			<p>The above image is the result of running the R built in kmeans clustering algorithm looking for 2 centers (leaf or sky). The algorithm seems to be very good at picking out leaf from non-leaf.</p>

			<p>I didn't go into rigorous depth to calculate the LAI from the clustered images, though it is just a couple extra steps. Since I was only interested in comparing the relative canopy covers among the different forests, I opted to just use percent canopy cover instead of LAI.</p>

			<p>Below is a simple plot that compares the percent canopy cover for different forests in Costa Rica.</p>

			<p><img src="https://github.com/edisondotme/canopy-cover/raw/master/plots/mainplot.png" alt="Graph of percent leaf cover" title="percent leaf cover graph" /></p>

			<p>I also did a presentation on this for my class. <a href="https://docs.google.com/presentation/d/1oULHJWyrmwFsGlJhjWdb8Vo2sWT9wUim4BRLgS-18zw/edit#slide=id.g13d5aff0e2_0_51">Here is the link</a> to the slides I used during my presentation. There is very little text on my slides because I don't believe in putting text on powerpoint slides, but the pictures help to explain more about my project. </p>

			<p>The code for this project can be found on my Github at <a href="https://github.com/edisondotme/canopy-cover">this link</a>.</p>
		</article>